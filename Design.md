# Samic-Drinks-Shop
Final project in Programming C# @Teknikhögskolan

Design<br>
Övergripande resonerade vi grovt hur sidan skulle se ut. Men pga olika erfarenheter samt inte jobbat ihop tillräcklig länge, samt på olika håll, blev det i början lite missmatch i våra visioner hur sidan skulle se ut. Detta rättades till desto längre in i projektet vi kom, då vi synkade och förstod varandra bättre. I början jobbade jag mest med backend och Samir med frontend. Senare jobbade vi mer och mer ihop. Generellt hela mitt tankesätt försöker jag tänka skalbart, återanvändbart samt moduler.

Filemanager<br>
Här försökte jag tänka återanvändbart och abstrakt. Jag ville hantera mycket internt och endast ge en åtkomst åt några globala variabler och metoder att använda externt. Tex ShowCuredProducts(). Anropas varthelst för att få åtkomst till produktlistan utan felaktiga rader. Jag fick även senare designa om/lägga till vissa metoder för att anpassa klassen åt vissa features som inte var planerade från början; tex download/upload cart, lägga till produkter i programmet istället för endast via CSV filen. Resulterade bla. i två metoder; att i början av programstart kopiera products.csv & hela ProductImages till C:/Windows/Temp. För voucher.csv planerade jag sedan start att i DetectCSVErrors() kontrollera om start/slutdatum i var inom spannet dagens datum. Om inte, skulle rabatten ej gå att välja på i kundkorgen. Vi införde detta först sista veckan. Fungerade för mig, men inte Samir pga. US-layout. Olika sätt vi provade  fungerade inte så vi tog bort felhanteringen. Mer tid & kunskap att konvertera mellan olika datumregioner hade krävts för att lyckas.

IProduct; FeaturedProduct, RegularProduct, CartItem<br>
Redan från början var min vision att ha olika utseende på produkterna (inspirerarad från webshoppar). Använda Interface för att få mer erfarenhet; tidigare bara använt arv. Med erfarenhet från lektion 20, WPF Grid i Grid experiment och webbutveckling, visste jag från start hur jag ville bygga produkterna. Utmaningen var att baka in WPFelement och visa dem på sidan med åtkomst till olika variabler som behövdes för datahantering. Resultatet; att varje objekt hade egen Grid med texter och en köp-knapp, för att kunna använda klasserna varthelst, utan att behöva skapa nya designelement varje gång de skulle användas på ett nytt ställe i programmet. Implementering, ändring och utökning blir även lätthanterligt. Tyvärr visade det sig att det som Samir skapat för butiksvyn till en början inte fungerade för dynamisk visning av produkter, varav jag fick designa om hela utseendet. Behöll endast griden för butiken. CartItem kom till senare då en första plan var att använda antingen stackpanel eller Datagrid för att visa produkter i kundkorgen. Men detta gick inte så bra, så jag skapade CartItem och implementerade Grid i Grid här med.

Felhantering<br>
På vissa ställen har vi med try/catch som tex i Staff.cs, vid klick på Add (product). Där går det att fånga flera fel med lite kod (istället för flera if-satser). På andra ställen  har vi haft !File.Exists() eller if-satser för att detta varit en bättre lösning (Filemanager.DetectCSVErrors()) då try/catch kanske inte ens kunnat fånga upp felet. Ibland har vi byggt bort felet. Om man i butiken laddar upp samma cart-fil efter varandra, kastas ArgumentExeption om Key redan finns i dictionaryn. Kan fånga, men då uppstår ett icke-fångbart scenario. Du kan ha olika cartfiler med olika produkter. Då kommer exception inte alltid uppstå. Vi löste båda problemen genom att köra dictionary.clear() innan cartfilen läses in till dictionaryn. Ibland har vi även kodat så användaren inte skall kunna göra fel. Tex vid tillägg av ny produkt i Staff. från början var bilden en Textbox där man skrev in bildnamnet. Vi upptäckte nya felaktigheter framåt slutet och vi ändrade så man var tvungen att välja en bild från datorn.

Reflektion<br>
Mycket bra erfarenheter kring teamwork för programmering, då jag alltid programmerat mina appar själv, samt att jag är en perfektionist på både gott och ont. Hade jag gjort om projektet, skulle jag ha gjort en helperclass med abstrakta metoder för att skapa WPF-element. Jag hade även lyft ut Interfaceklasserna till en egen csfil, samt läst på mer om SE, US-Environment för att fixa Timedateproblemet vi aldrig lyckades lösa.
